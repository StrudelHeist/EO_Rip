@using EtrianOdysseyClone.Pages.Tools
@using EtrianOdysseyClone.Data
@inject GameSession SessionInfo

<div class="flex flex-row">
    <div class="flex justify-center">
        <PrimarySideMenu MenuOptions="_menuOptions"></PrimarySideMenu>
    </div>
    <div>
        <img src="/Images/GuildDay.stex.png" asp-append-version="true" />
        <label>@_selectedOption</label>
    </div>
</div>
@code {
    private Dictionary<string, Action> _menuOptions;
    private string _selectedOption;

    protected override void OnInitialized()
    {
        _menuOptions = new Dictionary<string, Action>()
    {
            { "Register", () => GotoLocation(OverworldLocation.Guild)},
            { "Organize", () => GotoLocation(OverworldLocation.Guild)},
            { "Formation", () => GotoLocation(OverworldLocation.Guild)},
            { "Leave", () => GotoLocation(OverworldLocation.Town)}
        };
    }

    private void GotoLocation(OverworldLocation location)
    {
        SessionInfo.CurrentLocation = location;
    }
}
